(window.webpackJsonp=window.webpackJsonp||[]).push([[129,56],{1290:function(t,e,n){"use strict";n.r(e);var o=n(864),r=n(116),l=n(133),c=n(94),d=n(512),h=n(511),m=n(1220),_=n(1221),f=n(349),v=n(836),y=n(115),x=n(327),S=n(208),k=n(26),I=n(835),O=n(510),D=n(846),j=n(348),w=n(218),C=n(95),F=n(850),$=n(829),T=(n(35),n(3)),A=(n(58),n(516),n(33),n(269),n(107),n(6),n(79),n(63),n(36),n(220),n(12),n(43),n(64),n(72),{layout:"employee",data:function(){var t;return t={totalRowsCount:0,showFilters:!1,filters:{},isFilter:!1,datatable_search_textbox:"",datatable_searchById:"",filter_employeeid:"",snack:!1,snackColor:"",snackText:"",displayNoRecords:!1,from_date:(new Date).toJSON().slice(0,10),from_menu:!1,to_date:(new Date).toJSON().slice(0,10),to_menu:!1},Object(T.a)(t,"from_menu",[]),Object(T.a)(t,"to_menu",[]),Object(T.a)(t,"pagination",{current:1,total:0,per_page:10}),Object(T.a)(t,"Module","Employee Schedule"),Object(T.a)(t,"shift_types",[]),Object(T.a)(t,"manual_shift",{}),Object(T.a)(t,"options",{}),Object(T.a)(t,"options_dialog",{}),Object(T.a)(t,"endpoint","scheduled_employees_index"),Object(T.a)(t,"endpoint_dialog","scheduled_employees_list"),Object(T.a)(t,"search",""),Object(T.a)(t,"shifts_for_filter",[]),Object(T.a)(t,"dialog_search",""),Object(T.a)(t,"snackbar",!1),Object(T.a)(t,"dialog",!1),Object(T.a)(t,"editDialog",!1),Object(T.a)(t,"loading",!1),Object(T.a)(t,"loading_dialog",!1),Object(T.a)(t,"isEdit",!1),Object(T.a)(t,"total",0),Object(T.a)(t,"total_dialog",0),Object(T.a)(t,"headers_table",[{text:"Emp Id",align:"left",sortable:!1,value:"employee_id",filterable:!0,filterName:"employee_id"},{text:"Name",align:"left",sortable:!1,value:"employee.first_name",filterable:!0,filterName:"employee_first_name"},{text:"\tCurrent Schedule Name",align:"left",sortable:!1,value:"roster.name",filterable:!0,filterName:"roster_name"},{text:"Schedule Start",align:"left",sortable:!1,value:"show_from_date",filterable:!0,filterName:"show_from_date"},{text:"Schedule To Date",align:"left",sortable:!1,value:"show.to_date",filterable:!0,filterName:"show_to_date"},{text:"OT",align:"left",sortable:!0,value:"isOverTime",filterable:!1,filterName:"isOverTime"},{text:"Shift Name",align:"left",sortable:!1,value:"shift.name",filterable:!0,filterName:"shift_name"},{text:"Shift Type",align:"left",sortable:!1,value:"shift_type.name",filterable:!0,filterName:"shift_type_name"},{text:"Actions",align:"center",value:"action",sortable:!1,filterable:!1,filterName:""}]),Object(T.a)(t,"department_ids",["---"]),Object(T.a)(t,"sub_department_ids",["---"]),Object(T.a)(t,"employee_ids",[]),Object(T.a)(t,"shift_id",null),Object(T.a)(t,"shift_type_id",""),Object(T.a)(t,"isOverTime",!1),Object(T.a)(t,"is_edit",!1),Object(T.a)(t,"shift_slug",""),Object(T.a)(t,"employees",[]),Object(T.a)(t,"employees_dialog",[]),Object(T.a)(t,"departments",[]),Object(T.a)(t,"sub_departments",[]),Object(T.a)(t,"shifts",[]),Object(T.a)(t,"ids",[]),Object(T.a)(t,"response",""),Object(T.a)(t,"data",[]),Object(T.a)(t,"errors",[]),Object(T.a)(t,"headers_ids",[]),Object(T.a)(t,"rosters",[]),Object(T.a)(t,"rosterFirstValue",""),Object(T.a)(t,"headers_dialog",[{text:"E.ID",align:"left",sortable:!1,value:"system_user_id"},{text:"Name",sortable:!0,value:"employee.first_name"},{text:"Department",sortable:!1,value:"department.name"}]),Object(T.a)(t,"deleteIds",[]),Object(T.a)(t,"schedules_temp_list",[]),Object(T.a)(t,"empId",""),t},computed:{},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search="",this.is_edit||(this.getDepartments(this.options),this.getDataFromApiForDialog()),this.getShiftTypes(this.options)},options:{handler:function(){this.getDataFromApi()},deep:!0},options_dialog:{handler:function(){this.is_edit||this.getDataFromApiForDialog()},deep:!0},search:function(){this.pagination.current=1,this.searchIt()}},created:function(){this.loading=!0,this.loading_dialog=!0,this.get_rosters(),this.getDataFromApi(),this.options={params:{per_page:1e3,company_id:this.$auth.user.company_id}}},methods:{getCurrentShift:function(t){var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(new Date).getDay()];return t.roster.json.find((function(t){return t.day==e})).shift_name},gotoCreateSchedule:function(){this.$router.push("/employee_schedule/create")},datatable_save:function(){},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},onPageChange:function(){this.getDataFromApi()},caps:function(t){return""==t||null==t?"---":t.toString().replace(/\b\w/g,(function(t){return t.toUpperCase()}))},ScheduleItem:function(t,e){var n=this;this.empId=t.employee_id;var o=t.employee_id,r={company_id:this.$auth.user.company_id};this.$axios.get("get_roster_by_employee/".concat(o),{params:r}).then((function(t){var data=t.data;n.isEdit="edit"==e,n.schedules_temp_list=data,n.editDialog=!0}))},set_date_save:function(t,e,n){t.save(e);var o=this.setSevenDays(e);this.schedules_temp_list[n].to_date=o},setSevenDays:function(t){var e=new Date(t);e.setDate(e.getDate()+6);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();return"".concat(l,"-").concat(r,"-").concat(o)},update:function(){var t={schedules:this.schedules_temp_list,deleteIds:this.deleteIds,company_id:this.$auth.user.company_id};this.process(this.$axios.put("schedule_update/".concat(this.empId),t))},removeItem:function(i,t){t.id&&this.deleteIds.push(t.id),this.schedules_temp_list.splice(i,1)},get_rosters:function(){var t=this,e={company_id:this.$auth.user.company_id};this.$axios.get("roster_list",{params:e}).then((function(e){var data=e.data;t.rosters=data,t.addRow(data[0].schedule_id),t.rosterFirstValue=data[0].schedule_id}))},addRow:function(t){var e={schedule_id:t,from_date:(new Date).toJSON().slice(0,10),to_date:(new Date).toJSON().slice(0,10),is_over_time:!1};this.schedules_temp_list.length<5&&this.schedules_temp_list.push(e)},runShiftTypeFunction:function(){this.getShifts(this.shift_type_id)},close:function(){this.dialog=!1,this.is_edit=!1},getShifts:function(t){var e=this;if(3==this.shift_type_id)return this.shift_id=0,void(this.shifts=[]);var n={params:{shift_type_id:t,company_id:this.$auth.user.company_id}};this.$axios.get("shift_by_type",n).then((function(t){var data=t.data;e.shifts=data})).catch((function(t){return console.log(t)}))},getShiftTypes:function(t){var e=this;this.$axios.get("shift_type",t).then((function(t){var data=t.data;e.shift_types=data,e.shift_types.unshift({id:"",name:"Select Shift Type"})})).catch((function(t){return console.log(t)}))},runShiftFunction:function(){this.shifts=this.shifts.filter((function(t){return"---"!==t.id}))},getDepartments:function(t){var e=this;this.$axios.get("departments",t).then((function(t){var data=t.data;e.departments=data.data,e.departments.unshift({id:"---",name:"Select All"})})).catch((function(t){return console.log(t)}))},employeesByDepartment:function(){var t=this;this.loading_dialog=!0;var e=this.options_dialog,n=e.page,o=e.itemsPerPage,r={params:{department_ids:this.department_ids,per_page:o,page:n,company_id:this.$auth.user.company_id}};if(!this.department_ids.length)return this.employees_dialog=[],this.total_dialog=0,void(this.loading_dialog=!1);this.$axios.get("employeesByDepartment",r).then((function(e){var data=e.data;t.employees_dialog=data.data,t.total_dialog=data.total,t.loading_dialog=!1}))},getEmployeesBySubDepartment:function(){var t=this;this.loading_dialog=!0;var e=this.options_dialog,n=e.page,o=e.itemsPerPage,r={params:{department_ids:this.department_ids,sub_department_ids:this.sub_department_ids,per_page:o,page:n,company_id:this.$auth.user.company_id}};this.sub_department_ids.length?this.$axios.get("employeesBySubDepartment",r).then((function(e){var data=e.data;t.employees_dialog=data.data,t.total_dialog=data.total,t.loading_dialog=!1})).catch((function(t){return console.log(t)})):this.loading_dialog=!1},subDepartmentsByDepartment:function(){var t=this;this.options.params.department_ids=this.department_ids,this.$axios.get("sub-departments-by-departments",this.options).then((function(e){var data=e.data;t.sub_departments=data,t.sub_departments.unshift({id:"---",name:"Select All"})})).catch((function(t){return console.log(t)}))},runMultipleFunctions:function(){this.employeesByDepartment(),this.subDepartmentsByDepartment()},can:function(t){return this.$auth.user.permissions.includes(t)},getSearchRecords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.getDataFromApi(this.endpoint,t,e)},applyFilters:function(t,e){if(e&&e.length<3)return!1;this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint;this.loading=!0;var o=this.options,r=o.sortBy,l=o.sortDesc,c=o.page,d=o.itemsPerPage,h={params:(t={page:c,sortBy:r?r[0]:"",sortDesc:l?l[0]:"",per_page:d},Object(T.a)(t,"page",c),Object(T.a)(t,"company_id",this.$auth.user.company_id),Object(T.a)(t,"employee_id",this.$auth.user.employee.employee_id),t)};this.$axios.get(n,h).then((function(t){var data=t.data;e.employees=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.loading=!1,0==e.employees.length&&(e.displayNoRecords=!0),e.totalRowsCount=data.total}))},getDataFromApiForDialog:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint_dialog;this.loading_dialog=!0;var n=this.options_dialog,o=n.page,r={params:{per_page:n.itemsPerPage,page:o,company_id:this.$auth.user.company_id}};this.$axios.get(e,r).then((function(e){var data=e.data;t.employees_dialog=data.data,t.total_dialog=data.total,t.loading_dialog=!1}))},searchIt:function(){var s=this.search.length,t=this.search;0==s?this.getDataFromApi():s>2&&this.getDataFromApi("".concat(this.endpoint,"/search/").concat(t))},dialogSearchIt:function(t){0==t.length?this.getDataFromApiForDialog():t.length>2&&(this.employees_dialog=this.employees.filter((function(e){return e.display_name.includes(t)})))},delteteSelectedRecords:function(){var t=this,e=this.ids.map((function(t){return t.schedule.id}));confirm("Are you sure you wish to delete selected records , to mitigate any inconvenience in future.")&&this.$axios.post("schedule_employee/delete/selected",{ids:e}).then((function(e){var data=e.data;data.status?(t.getDataFromApi(),t.snackbar=data.status,t.ids=[],t.response="Selected records has been deleted"):(t.errors=data.errors,alert("1"))})).catch((function(t){return console.log(t)}))},deleteItem:function(t){var e=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("schedule_employees/"+t.employee.system_user_id).then((function(n){var data=n.data,o=e.employees.indexOf(t);e.employees.splice(o,1),e.snackbar=data.status,e.response=data.message,e.getDataFromApiForDialog()})).catch((function(t){return console.log(t)}))},save:function(){if(this.loading_dialog=!0,this.employee_ids&&0==this.employee_ids.length)return this.loading_dialog=!1,void alert("Atleast 1 Employee must be selected");this.errors=[];var t={shift_type_id:this.shift_type_id,shift_id:this.shift_id,company_id:this.$auth.user.company_id,isOverTime:this.isOverTime?1:0,employee_ids:this.employee_ids.map((function(t){return t.system_user_id})),from_date:this.from_date,to_date:this.to_date};this.is_edit?this.process(this.$axios.post("schedule_employees/".concat(t.employee_ids),t)):this.process(this.$axios.post("schedule_employees",t))},process:function(t){var e=this;t.then((function(t){var data=t.data;if(!data.status)return null!=data&&data.custom_errors&&(e.custom_errors=data.custom_errors,e.errors=[]),null!=data&&data.errors&&(e.errors=data.errors,e.custom_errors=[]),void(e.loading_dialog=!1);e.response=data.message,e.snackbar=!0,e.loading_dialog=!1,e.editDialog=!1,e.getDataFromApi(),e.getDataFromApiForDialog()})).catch((function(t){return console.log(t)}))}}}),E=A,P=n(61),component=Object(P.a)(E,(function(){var t=this,e=t._self._c;return t.can("employee_schedule_access")?e("div",[e("div",{staticClass:"text-center ma-2"},[e(D.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")])],1),t._v(" "),e(f.a,{attrs:{width:"900"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e(l.a,[e(c.d,{staticClass:"primary white--text background",attrs:{dense:""}},[t._v("\n        "+t._s(t.isEdit?"Edit Shift(s)":"View Shift(s)")+"\n        "),e(j.a),t._v(" "),e(y.a,{attrs:{outlined:"",dark:"",color:"white"},on:{click:function(e){t.editDialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(c.c,[e(h.a,{staticClass:"text-right",attrs:{col:"3","text-right":""}},[t.isEdit?e(r.a,{staticClass:"primary",attrs:{small:""},on:{click:function(e){return t.addRow(t.rosterFirstValue)}}},[e("b",[t._v("Add +")])]):t._e()],1),t._v(" "),t._l(t.schedules_temp_list,(function(n,i){return e(O.a,{key:i},[e(h.a,{attrs:{md:"3"}},[e("div",{},[t._v("Schedule List")]),t._v(" "),e(o.a,{attrs:{outlined:"",readonly:!t.isEdit,dense:"","x-small":"",items:t.rosters,"item-value":"schedule_id","item-text":"name"},model:{value:n.schedule_id,callback:function(e){t.$set(n,"schedule_id",e)},expression:"item.schedule_id"}})],1),t._v(" "),e(h.a,{attrs:{md:"3"}},[e("div",{staticClass:"mb-6"},[e("div",[t._v("From")]),t._v(" "),e(I.a,{ref:"from_menu",refInFor:!0,attrs:{"close-on-content-click":!1,"return-value":n.from_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){return t.$set(n,"from_date",e)},"update:return-value":function(e){return t.$set(n,"from_date",e)}},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on,l=o.attrs;return[e(w.a,t._g(t._b({attrs:{"hide-details":!0,outlined:"",dense:"",readonly:""},model:{value:n.from_date,callback:function(e){t.$set(n,"from_date",e)},expression:"item.from_date"}},"v-text-field",!t.isEdit||l,!1),!t.isEdit||r))]}}],null,!0),model:{value:t.from_menu[i],callback:function(e){t.$set(t.from_menu,i,e)},expression:"from_menu[i]"}},[t._v(" "),e(_.a,{attrs:{readonly:!t.isEdit,"no-title":"",scrollable:""},model:{value:n.from_date,callback:function(e){t.$set(n,"from_date",e)},expression:"item.from_date"}},[e(j.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu[i]=!1}}},[t._v("\n                    Cancel\n                  ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.isEdit&&t.set_date_save(t.$refs.from_menu[i],n.from_date,i)}}},[t._v("\n                    OK\n                  ")])],1)],1)],1)]),t._v(" "),e(h.a,{attrs:{md:"3"}},[e("div",{staticClass:"mb-6"},[e("div",[t._v("To")]),t._v(" "),e(I.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",readonly:!t.isEdit},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on,l=o.attrs;return[e(w.a,t._g(t._b({attrs:{readonly:"",outlined:"",dense:"","hide-details":!0},model:{value:n.to_date,callback:function(e){t.$set(n,"to_date",e)},expression:"item.to_date"}},"v-text-field",!t.isEdit||l,!1),!t.isEdit||r))]}}],null,!0),model:{value:t.to_menu[i],callback:function(e){t.$set(t.to_menu,i,e)},expression:"to_menu[i]"}},[t._v(" "),e(_.a,{attrs:{readonly:!t.isEdit},on:{input:function(e){t.to_menu[i]=!1}},model:{value:n.to_date,callback:function(e){t.$set(n,"to_date",e)},expression:"item.to_date"}})],1)],1)]),t._v(" "),e(h.a,{attrs:{md:"2"}},[e("div",[t._v("\n              Overtime Allowed\n              "),e(d.a,{staticStyle:{"margin-top":"-8px"},attrs:{readonly:!t.isEdit},model:{value:n.is_over_time,callback:function(e){t.$set(n,"is_over_time",e)},expression:"item.is_over_time"}})],1)]),t._v(" "),t.isEdit?e(h.a,{attrs:{md:"1"}},[e("div"),t._v(" "),e(y.a,{attrs:{color:"error"},on:{click:function(e){return t.removeItem(i,n)}}},[t._v("mdi-delete")])],1):t._e()],1)}))],2),t._v(" "),e(v.a),t._v(" "),e(c.a,[e(j.a),t._v(" "),t.isEdit?e(r.a,{attrs:{dark:"",small:"",color:"primary"},on:{click:t.update}},[t._v("\n          Submit\n        ")]):t._e()],1)],1)],1),t._v(" "),e(f.a,{attrs:{width:"1300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(c.d,{staticClass:"text-h5"},[t._v("\n        Schedule Employees\n        "),e(j.a),t._v(" "),e(r.a,{attrs:{dark:"",small:"",color:"grey"},on:{click:t.close}},[t._v(" Close ")]),t._v("  \n        "),e(r.a,{attrs:{dark:"",small:"",color:"primary"},on:{click:t.save}},[t._v(" Submit ")])],1),t._v(" "),e(v.a),t._v(" "),e(c.c,[e(O.a,[e(h.a,{attrs:{md:"4"}},[e(O.a,[e(h.a,{attrs:{md:"12"}},[e("div",{staticClass:"mb-5"},[e("span",{staticClass:"text-h6"},[t._v("Filters")])]),t._v(" "),e("div",{staticClass:"mb-1"},[t._v("Department")]),t._v(" "),e(o.a,{attrs:{outlined:"",dense:"",multiple:"","x-small":"",items:t.departments,"item-value":"id","item-text":"name",disabled:1==t.is_edit},on:{change:t.runMultipleFunctions},model:{value:t.department_ids,callback:function(e){t.department_ids=e},expression:"department_ids"}}),t._v(" "),e("div",{staticClass:"mb-1"},[t._v("Sub Department")]),t._v(" "),e(o.a,{attrs:{outlined:"",dense:"",multiple:"","x-small":"",items:t.sub_departments,"item-value":"id","item-text":"name",disabled:1==t.is_edit},on:{change:t.getEmployeesBySubDepartment},model:{value:t.sub_department_ids,callback:function(e){t.sub_department_ids=e},expression:"sub_department_ids"}}),t._v(" "),e("div",{staticClass:"mb-1"},[t._v("Shift Types")]),t._v(" "),e(o.a,{attrs:{error:t.errors&&t.errors.shift_type_id,"error-messages":t.errors&&t.errors.shift_type_id?t.errors.shift_type_id[0]:"",outlined:"",dense:"","x-small":"",items:t.shift_types,"item-value":"id","item-text":"name"},on:{change:t.runShiftTypeFunction},model:{value:t.shift_type_id,callback:function(e){t.shift_type_id=e},expression:"shift_type_id"}}),t._v(" "),e("div",{staticClass:"mb-1"},[t._v("Shifts")]),t._v(" "),e(o.a,{attrs:{error:t.errors&&t.errors.shift_id,"error-messages":t.errors&&t.errors.shift_id?t.errors.shift_id[0]:"",outlined:"",dense:"","x-small":"",items:t.shifts,"item-value":"id","item-text":"name"},on:{change:t.runShiftFunction},model:{value:t.shift_id,callback:function(e){t.shift_id=e},expression:"shift_id"}}),t._v(" "),e("div",{staticClass:"mb-6"},[e("div",[t._v("From")]),t._v(" "),e(I.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(w.a,t._g(t._b({attrs:{readonly:"",outlined:"",dense:"","hide-details":!0},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}},"v-text-field",r,!1),o))]}}],null,!1,659822782),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),e(_.a,{on:{input:function(e){t.from_menu=!1}},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}})],1)],1),t._v(" "),e("div",{staticClass:"mb-6"},[e("div",[t._v("To")]),t._v(" "),e(I.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(w.a,t._g(t._b({attrs:{readonly:"",outlined:"",dense:"","hide-details":!0},model:{value:t.to_date,callback:function(e){t.to_date=e},expression:"to_date"}},"v-text-field",r,!1),o))]}}],null,!1,1013717395),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),e(_.a,{on:{input:function(e){t.to_menu=!1}},model:{value:t.to_date,callback:function(e){t.to_date=e},expression:"to_date"}})],1)],1),t._v(" "),e(d.a,{attrs:{dense:"",label:"Overtime Allowed"},model:{value:t.isOverTime,callback:function(e){t.isOverTime=e},expression:"isOverTime"}})],1)],1)],1),t._v(" "),e(h.a,{attrs:{md:"8"}},[e(O.a,[e(h.a,{attrs:{md:"6"}},[e("div",{staticClass:"mb-5"},[e("span",{staticClass:"text-h6"},[t._v("Employees List")])])]),t._v(" "),e(h.a,{attrs:{md:"6"}},[e("div",{staticClass:"text-right"},[e(w.a,{attrs:{dense:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},on:{input:t.dialogSearchIt},model:{value:t.dialog_search,callback:function(e){t.dialog_search=e},expression:"dialog_search"}})],1)])],1),t._v(" "),e(m.a,{attrs:{"show-select":"","item-key":"id",headers:t.headers_dialog,items:t.employees_dialog,"server-items-length":t.total_dialog,loading:t.loading_dialog,options:t.options_dialog,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]}},on:{"update:options":function(e){t.options_dialog=e}},model:{value:t.employee_ids,callback:function(e){t.employee_ids=e},expression:"employee_ids"}})],1)],1)],1),t._v(" "),e(v.a),t._v(" "),e(c.a,[e(j.a),t._v(" "),e(r.a,{attrs:{dark:"",small:"",color:"grey"},on:{click:t.close}},[t._v(" Close ")]),t._v(" "),e(r.a,{attrs:{dark:"",small:"",color:"primary"},on:{click:t.save}},[t._v(" Submit ")])],1)],1)],1),t._v(" "),e(l.a,{staticClass:"mb-5 rounded-md mt-3",attrs:{elevation:"0"}},[e(C.a,{staticClass:"rounded-md",attrs:{color:"background",dense:"",flat:"",dark:""}},[e(F.b,[e("span",[t._v(" Schedule List")])]),t._v(" "),e($.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:""}},"v-btn",l,!1),o),[e(y.a,{staticClass:"ml-2",attrs:{color:"white",dark:""},on:{click:t.clearFilters}},[t._v("mdi mdi-reload")])],1)]}}],null,!1,3956209761)},[t._v(" "),e("span",[t._v("Reload")])]),t._v(" "),e(j.a)],1),t._v(" "),e(D.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n\n      ")]),t._v(" "),e(D.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n\n      ")]),t._v(" "),e(m.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers_table,items:t.employees,"model-value":"data.id",loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.employee_id",fn:function(e){var n,o=e.item;return[t._v("\n        "+t._s(t.caps((null==o||null===(n=o.employee)||void 0===n?void 0:n.employee_id)||""))+"\n      ")]}},{key:"item.employee.first_name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(t.caps(n.employee&&n.employee.first_name))+"\n        "+t._s(t.caps(n.employee&&n.employee.last_name))+"\n      ")]}},{key:"item.roster.name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(t.caps(n.roster&&n.roster.name))+"\n      ")]}},{key:"item.show_from_date",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n&&n.from_date)+"\n      ")]}},{key:"item.show.to_date",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n&&n.to_date)+"\n      ")]}},{key:"item.isOverTime",fn:function(n){var o=n.item;return[o&&o.isOverTime?e(y.a,{attrs:{color:"success darken-1"}},[t._v("mdi-check")]):e(y.a,{attrs:{color:"error"}},[t._v("mdi-close")])]}},{key:"item.shift.name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(t.getCurrentShift(n))+"\n      ")]}},{key:"item.shift_type.name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n.shift_type&&n.shift_type.name)+"\n      ")]}},{key:"item.action",fn:function(n){var o=n.item;return[e(I.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(y.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(x.a,{attrs:{width:"120",dense:""}},[e(S.a,{on:{click:function(e){return t.ScheduleItem(o,"view")}}},[e(k.c,{staticStyle:{cursor:"pointer"}},[e(y.a,{attrs:{color:"secondary",small:""}},[t._v(" mdi-eye ")]),t._v("\n                View All\n              ")],1)],1)],1)],1)]}}],null,!1,4183101252)})],1)],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NoAccess:n(851).default})},850:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var o=n(95),r=n(0),l=Object(r.k)("v-toolbar__title"),c=Object(r.k)("v-toolbar__items");o.a},851:function(t,e,n){"use strict";n.r(e);var o=n(61),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},853:function(t,e,n){var content=n(854);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("1377ef10",content,!0,{sourceMap:!1})},854:function(t,e,n){var o=n(24)((function(i){return i[1]}));o.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),o.locals={},t.exports=o},864:function(t,e,n){"use strict";n(14),n(13),n(17),n(11),n(18);var o=n(3),r=(n(72),n(6),n(12),n(87),n(107),n(219),n(43),n(64),n(853),n(860)),l=n(218),c=n(67),d=n(0);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _=m(m({},r.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=r.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:r.a.options.props.menuProps.type,default:function(){return _}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return m(m({},r.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=r.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),m(m({},_),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=r.a.options.computed.listData.call(this);return data.props=m(m({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var o=e[this.$refs.menu.listIndex];o?this.setMenuIndex(t.findIndex((function(i){return i===o}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var o=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[o]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=o}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,r.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=r.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?r.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||r.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){r.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){r.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){r.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var o=this.selectedItems[this.selectedIndex],r=this.getText(o);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",r),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",r),t.preventDefault()}}}})}}]);