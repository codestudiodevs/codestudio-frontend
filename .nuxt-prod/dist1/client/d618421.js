(window.webpackJsonp=window.webpackJsonp||[]).push([[7,56,64],{1079:function(e,t,r){"use strict";r.r(t);var o=r(116),n=r(133),c=r(999),l=r(849),d=r(1220),h=r(836),m=r(115),f=r(327),v=r(208),_=r(26),y=r(835),w=r(846),x=r(348),k=r(218),j=r(95),A=r(850),O=r(829),C=(r(58),r(13),r(12),r(17),r(18),r(40)),F=r(3),D=(r(107),r(6),r(79),r(33),r(63),r(57),r(72),r(35),r(119),r(14),r(11),r(87),r(351),r(43),r(64),r(36),r(108),r(870),r(875));function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(F.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P={components:{VueCropper:r.n(D).a},data:function(){var e;return e={disabled:!1,openTimePicker:!1,closeTimePicker:!1,menu:!1,payload:{flat_number:"",floor_number:"",manager_name:"",number:"",emergency_phone:"",email:"",open_time:"",close_time:"",zone_id:1,weekend:1,webaccess:1},tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(F.a)(e,"tab","0"),Object(F.a)(e,"attrs",[]),Object(F.a)(e,"right",!0),Object(F.a)(e,"rightDrawer",!1),Object(F.a)(e,"drawer",!0),Object(F.a)(e,"tab",null),Object(F.a)(e,"selectedItem",1),Object(F.a)(e,"on",""),Object(F.a)(e,"files",""),Object(F.a)(e,"search",""),Object(F.a)(e,"loading",!1),Object(F.a)(e,"next_page_url",""),Object(F.a)(e,"prev_page_url",""),Object(F.a)(e,"current_page",1),Object(F.a)(e,"per_page",1e3),Object(F.a)(e,"color","background"),Object(F.a)(e,"response",""),Object(F.a)(e,"btnLoader",!1),Object(F.a)(e,"pagination",{current:1,total:0,per_page:10}),Object(F.a)(e,"options",{}),Object(F.a)(e,"Model","Zone"),Object(F.a)(e,"endpoint","zone"),Object(F.a)(e,"search",""),Object(F.a)(e,"snackbar",!1),Object(F.a)(e,"ids",[]),Object(F.a)(e,"loading",!1),Object(F.a)(e,"response",""),Object(F.a)(e,"data",[]),Object(F.a)(e,"errors",[]),Object(F.a)(e,"designations",[]),Object(F.a)(e,"roles",[]),Object(F.a)(e,"department_filter_id",""),Object(F.a)(e,"dialogVisible",!1),Object(F.a)(e,"payloadOptions",{}),Object(F.a)(e,"headers",[{text:"#",align:"left",sortable:!0,key:"id",value:"id",filterable:!0,filterSpecial:!1,disabled:!0},{text:"Zone Name",align:"left",sortable:!0,key:"name",value:"name",filterable:!0,filterSpecial:!1,disabled:!1},{text:"Devices",align:"left",sortable:!0,key:"devices",value:"devices",filterable:!0,filterSpecial:!1,disabled:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options",filterable:!0,filterSpecial:!1,disabled:!0}]),e},created:function(){var e=this;return Object(C.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.payloadOptions={params:{per_page:10,company_id:e.$auth.user.company_id}},e.getDataFromApi();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{getCurrentShift:function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(new Date).getDay()];return e.roster.json.find((function(e){return e.day==t})).shift_name},closeViewDialog:function(){this.viewDialog=!1},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},closePopup:function(){this.$refs.attachment_input.value=null,this.dialogCropping=!1},saveCroppedImageStep2:function(){this.cropedImage=this.$refs.cropper.getCroppedCanvas().toDataURL(),this.image_name=this.cropedImage,this.previewImage=this.cropedImage,this.dialogCropping=!1},close:function(){this.dialog=!1,this.errors=[],setTimeout((function(){}),300)},json_to_csv:function(e){var data=e.map((function(e){return{first_name:e.first_name,last_name:e.last_name,display_name:e.display_name,email:e.user.email,phone_number:e.phone_number,whatsapp_number:e.whatsapp_number,phone_relative_number:e.phone_relative_number,whatsapp_relative_number:e.whatsapp_relative_number,employee_id:e.employee_id,joining_date:e.show_joining_date,department_code:e.department_id,designation_code:e.designation_id,department:e.department.name,designation:e.designation.name}})),header=Object.keys(data[0]).join(",")+"\n",t="";return data.forEach((function(e){t+=Object.values(e).join(",").trim()+"\n"})),header+t},export_submit:function(){if(0==this.data.length)return this.snackbar=!0,void(this.response="No record to download");var e=this.json_to_csv(this.data),element=document.createElement("a");element.setAttribute("href","data:text/csv;charset=utf-8, "+encodeURIComponent(e)),element.setAttribute("download","download.csv"),document.body.appendChild(element),element.click(),document.body.removeChild(element)},importEmployee:function(){var e,t,r,o=this,n=new FormData;n.append("employees",this.files),n.append("company_id",null===(e=this.$auth)||void 0===e||null===(t=e.user)||void 0===t||null===(r=t.company)||void 0===r?void 0:r.id);this.btnLoader=!0,this.$axios.post("/employee/import",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var data=e.data;o.btnLoader=!1,data.status?(o.errors=[],o.snackbar=!0,o.response="Employees imported successfully",o.getDataFromApi(),o.close()):o.errors=data.errors})).catch((function(e){e.toString().includes("Error: Network Error")&&(o.errors=["File is modified.Please cancel the current file and try again"],o.btnLoader=!1)}))},can:function(e){var u=this.$auth.user;return u&&u.permissions.some((function(t){return t==e||"/"==e}))||u.is_master},onPageChange:function(){this.getDataFromApi()},applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint;this.loadinglinear=!0;var r=this.options,o=r.sortBy,n=r.sortDesc,c=r.page,l=r.itemsPerPage,d={params:z({sortBy:o?o[0]:"",sortDesc:n?n[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get("".concat(t,"?page=").concat(c),d).then((function(t){var data=t.data;e.data=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},addItem:function(){this.$router.push("/zone/create")},editItem:function(e){this.$router.push("/zone/"+e.id)},viewItem:function(e){this.$router.push("/zone/single/"+e.id)},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}}},I=P,E=r(61),component=Object(E.a)(I,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(w.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[e.can("employee_view")?t("div",[t(l.a,[t(n.a,{attrs:{elevation:"0"}},[t(j.a,{staticClass:"mb-2 white--text",attrs:{color:"background",dense:"",flat:""}},[t(A.b,[t("span",[e._v(e._s(e.Model)+"s ")])]),e._v(" "),t(O.a,{attrs:{top:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,c=r.attrs;return[t(o.a,e._g(e._b({staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:""}},"v-btn",c,!1),n),[t(m.a,{staticClass:"ml-2",attrs:{color:"white",dark:""},on:{click:e.clearFilters}},[e._v("mdi mdi-reload")])],1)]}}],null,!1,3956209761)},[e._v(" "),t("span",[e._v("Reload")])]),e._v(" "),t(O.a,{attrs:{top:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,c=r.attrs;return[t(o.a,e._g(e._b({staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:""}},"v-btn",c,!1),n),[t(m.a,{staticClass:"mx-1 ml-2",attrs:{color:"white"},on:{click:e.toggleFilter}},[e._v("mdi mdi-filter")])],1)]}}],null,!1,3124901963)},[e._v(" "),t("span",[e._v("Filter")])]),e._v(" "),t(x.a),e._v(" "),t(O.a,{attrs:{top:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,c=r.attrs;return[t(o.a,e._g(e._b({staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:""},on:{click:e.addItem}},"v-btn",c,!1),n),[e.can("employee_create")?t(m.a,{attrs:{color:"white",right:"",size:"x-large",dark:""}},[e._v("mdi-plus-circle")]):e._e()],1)]}}],null,!1,1182359603)},[e._v(" "),t("span",[e._v("Add Zone")])])],1),e._v(" "),t(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(r){var o=r.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header,r){return t("td",{key:r},[t(k.a,{staticClass:"ma-3",attrs:{disabled:header.disabled,solo:"",clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(t){e.filters[header.value]="",e.applyFilters()},input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.value],callback:function(t){e.$set(e.filters,header.value,t)},expression:"filters[header.value]"}}),e._v(" "),t(h.a)],1)})),0):e._e()]}},{key:"item.devices",fn:function(r){var o=r.item;return[e._l(o.devices.slice(0,3),(function(r,o){return t(c.a,{key:o,staticClass:"primary ma-1",attrs:{small:""}},[e._v("\n                "+e._s(e.caps(r.short_name||"---"))+" "),t("br")])})),e._v(" "),o.devices.length>3?t(c.a,{staticClass:"background ma-1",attrs:{small:"",dark:""}},[e._v("\n                More...\n              ")]):e._e()]}},{key:"item.options",fn:function(r){var n=r.item;return[t(y.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,c=r.attrs;return[t(o.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",c,!1),n),[t(m.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(f.a,{attrs:{width:"120",dense:""}},[t(v.a,{on:{click:function(t){return e.viewItem(n)}}},[t(_.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                      View\n                    ")],1)],1),e._v(" "),t(v.a,{on:{click:function(t){return e.editItem(n)}}},[t(_.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                      Edit\n                    ")],1)],1),e._v(" "),t(v.a,{on:{click:function(t){return e.deleteItem(n)}}},[t(_.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                      Delete\n                    ")],1)],1)],1)],1)]}}],null,!1,2494934432)})],1)],1)],1):e._e()])],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Preloader:r(859).default,NoAccess:r(851).default})},850:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c}));var o=r(95),n=r(0),c=Object(n.k)("v-toolbar__title"),l=Object(n.k)("v-toolbar__items");o.a},851:function(e,t,r){"use strict";r.r(t);var o=r(61),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[e("b",[this._v("No Access")])])}],!1,null,null,null);t.default=component.exports},859:function(e,t,r){"use strict";r.r(t);var o=r(215),n=r(61),component=Object(n.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"text-center",staticStyle:{width:"50px",margin:"25% auto"}},[e(o.a,{attrs:{src:"/preloaders/1.gif"}})],1)}),[],!1,null,null,null);t.default=component.exports},870:function(e,t,r){var content=r(874);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(25).default)("8f215f56",content,!0,{sourceMap:!1})},874:function(e,t,r){var o=r(24)((function(i){return i[1]}));o.push([e.i,'/*!\n * Cropper.js v1.5.13\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-11-20T05:30:43.444Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""]),o.locals={},e.exports=o}}]);