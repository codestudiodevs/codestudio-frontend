(window.webpackJsonp=window.webpackJsonp||[]).push([[190,56],{1304:function(t,e,r){"use strict";r.r(e);var o=r(116),n=r(133),l=r(94),c=r(511),d=r(510),m=r(846),v=(r(35),r(72),r(12),r(6),r(40)),_=(r(57),r(108),{data:function(){return{loading:!1,payload:{name:"",email:"",password:"",password_confirmation:"",role_id:""},errors:[],roles:[],response:"",snackbar:!1}},created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getRoles();case 1:case"end":return e.stop()}}),e)})))()},methods:{can:function(t){var u=this.$auth.user;return u&&u.permissions.some((function(e){return e==t||"/"==t}))||u.is_master},getRoles:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("role",e).then((function(e){var data=e.data;t.roles=data.data}))},store_device:function(){var t=this,e=this.payload;e.company_id=this.$auth.user.company_id,this.loading=!0,this.$axios.post("/users",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response="User added successfully",setTimeout((function(){return t.$router.push("/user")}),2e3)):t.errors=data.errors})).catch((function(t){return console.log(t)}))}}}),f=r(61),component=Object(f.a)(_,(function(){var t=this,e=t._self._c;return t.can("user_access")?e("div",[e("div",{staticClass:"text-center ma-2"},[e(m.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")])],1),t._v(" "),e(d.a,{staticClass:"mt-5 mb-10"},[e(c.a,{attrs:{cols:"10"}},[e("h3",[t._v("User")]),t._v(" "),e("div",[t._v("Dashboard / User / Create")])])],1),t._v(" "),e(n.a,[e(n.a,{attrs:{flat:""}},[e(l.c,[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"}),t._v("\n              Name "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.name,expression:"payload.name"}],staticClass:"form-control",attrs:{type:""},domProps:{value:t.payload.name},on:{input:function(e){e.target.composing||t.$set(t.payload,"name",e.target.value)}}})]),t._v(" "),t.errors&&t.errors.name?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.name[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"}),t._v("\n              Email "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.email,expression:"payload.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.payload.email},on:{input:function(e){e.target.composing||t.$set(t.payload,"email",e.target.value)}}})]),t._v(" "),t.errors&&t.errors.email?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.email[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Password "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.password,expression:"payload.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.payload.password},on:{input:function(e){e.target.composing||t.$set(t.payload,"password",e.target.value)}}}),t._v(" "),t.errors&&t.errors.password?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.password[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Confirm Password "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.password_confirmation,expression:"payload.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.payload.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.payload,"password_confirmation",e.target.value)}}}),t._v(" "),t.errors&&t.errors.password_confirmation?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.password_confirmation[0]))]):t._e()])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Role ")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.payload.role_id,expression:"payload.role_id"}],staticClass:"form-select",attrs:{"aria-label":"Default select"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.payload,"role_id",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Role")]),t._v(" "),t._l(t.roles,(function(r,o){return e("option",{key:o,domProps:{value:r.id}},[t._v(t._s(r.name))])}))],2),t._v(" "),t.errors&&t.errors.role_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.role_id[0]))]):t._e()])])]),t._v(" "),e(d.a,[e(c.a,{attrs:{cols:"12"}},[e("div",{staticClass:"text-right"},[t.can("user_create")?e(o.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.store_device}},[t._v("\n                Submit\n              ")]):t._e()],1)])],1)],1)],1)],1)],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NoAccess:r(851).default})},851:function(t,e,r){"use strict";r.r(e);var o=r(61),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports}}]);